<!doctype html>
<html lang="de">
<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="./css/bootstrap.min.css">

    <script src="./js/jquery-3.4.1.min.js"></script>

    <style>

        body {
            padding-top: 5rem;
        }
        .starter-template {
            padding: 3rem 1.5rem;
            text-align: center;
        }

    </style>
    <script>

        var readernumber = "";
        var token = "";

        var booked_workspace = 0, bookingCode = 0;

        function reservation() {
            $("#startdiv").load("login.html");
        }

        function login() {

            $.ajax({
                url: 'http://localhost:12105/booking/login',
                type: 'post',
                data: $('#loginform').serialize(),
                success: function (data) {
                    if(data!="null") {
                            token = data;
                            $("#startdiv").removeClass("starter-template");
                            $("#startdiv").load("booking.html");
                        }
                    else
                        alert("Ihre Logindaten sind leider falsch.");
                }
            });

            readernumber = $("#readernumber").val();

        }

        function do_reservation() {
            $.ajax({
                url: 'http://localhost:12105/booking/booking',
                type: 'post',
                data: $('#booking').serialize(),
                success: function(data) {

                    var jsondata = $.parseJSON(data);

                    booked_workspace = jsondata.workspaceId;
                    bookingCode = jsondata.bookingCode;

                    $("#startdiv").load("result.html");


                }
            });
        }

        function getAreas() {
           $.ajax({
                url: 'http://localhost:12105/booking/areas?institution='+$("#institution").val(),
                type: 'get',
                success: function(data) {
                    $("#area option").remove();
                        data.split("#").forEach(function(e){
                            $("#area").append("<option value=\""+e+"\">"+e+"</option>");
                        });
                    }
            });

        }

    </script>
    <title>Universitätsbibliothek Leipzig - Arbeitsplatzbuchungssystem</title>
</head>
<body>
<nav class="navbar navbar-expand-md navbar-dark bg-dark fixed-top">
    <a class="navbar-brand" href="#">Arbeitsplatzbuchungssystem</a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarsExampleDefault" aria-controls="navbarsExampleDefault" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>
<!--
    <div class="collapse navbar-collapse" id="navbarsExampleDefault">
        <ul class="navbar-nav mr-auto">
            <li class="nav-item active">
                <a class="nav-link" href="#">Home <span class="sr-only">(current)</span></a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="#">Link</a>
            </li>
            <li class="nav-item">
                <a class="nav-link disabled" href="#">Disabled</a>
            </li>
            <li class="nav-item dropdown">
                <a class="nav-link dropdown-toggle" href="https://example.com" id="dropdown01" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Prozessablauf</a>
                <div class="dropdown-menu" aria-labelledby="dropdown01">
                    <a class="dropdown-item" href="javascript:my_dialog('Die Prozessierung wird fortgesetzt.', url+'IDMConnect/admin?processing=true','#')">fortsetzen</a>
                    <a class="dropdown-item" href="javascript:my_dialog('Die Prozessierung wird unterbrochen.',url+'IDMConnect/admin?processing=false' ,'#')">unterbrechen</a>
                    <a class="dropdown-item" href="javascript:my_dialog('Achtung, die IDMConnect-Middleware wird beendet!', url+'IDMConnect/admin?shutdown=true' , '#')">abbrechen/beenden</a>

                </div>
            </li>
        </ul>

    </div>
-->

</nav>

<main role="main" class="container">

    <div class="starter-template" id="startdiv">

        <h1>Universitätsbibliothek Leipzig - Arbeitsplatzbuchung</h1>

        <h3>Was möchten Sie tun?</h3>
        <a href="javascript:reservation()">Einen Arbeitsplatz reservieren</a><br>
        <a href="javascript:manage()">Eine Reservierung ändern/stornieren</a>

    </div>

</main>

<script src="./js/popper.min.js"></script>
<script src="./js/bootstrap.min.js"></script>
</body>
</html>